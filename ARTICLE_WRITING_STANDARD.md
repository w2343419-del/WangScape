# WangScape 文章编写标准指南

本指南规定了所有文章的格式标准，确保项目内容的一致性和可维护性。

---

## 目录
1. [YAML Frontmatter 规范](#yaml-frontmatter-规范)
2. [标题与结构](#标题与结构)
3. [代码块规范](#代码块规范)
4. [文本与段落](#文本与段落)
5. [数学公式](#数学公式)
6. [列表与表格](#列表与表格)
7. [链接与引用](#链接与引用)
8. [中英文混排](#中英文混排)

---

## YAML Frontmatter 规范

### 必填字段
```yaml
---
title: "文章标题"
date: 2026-02-28T11:31:00+08:00
description: "简短描述"
tags:
    - 标签1
    - 标签2
categories:
    - 分类1
---
```

### 可选字段
- `draft: false` - 草稿状态（不发布）
- `pinned: false` - 是否置顶
- `image: ""` - 封面图片路径
- `math: false` - 是否需要数学公式渲染
- `license: ""` - 协议证书
- `comments: true` - 是否允许评论
- `hidden: false` - 是否隐藏文章

### 注意事项
- ✅ 日期格式必须是 ISO 8601：`2026-02-28T11:31:00+08:00`
- ✅ 标签和分类用列表格式（缩进 4 个空格）
- ❌ 避免在 `description` 中使用冒号，容易破坏 YAML 解析
- ✅ 字符串用双引号包裹，避免特殊字符问题

---

## 标题与结构

### 标题层级规范
```markdown
# 一级标题（文章主题，仅一个）

## 二级标题（主要段落）

### 三级标题（子段落）
```

### 规则
- 一篇文章只能有**一个一级标题**（对应 YAML 中的 `title`）
- 二级标题用于主要内容分段
- 三级标题用于小节（通常在代码块前）
- 避免使用四级或更深的标题
- 标题前后各留**一行空白**

### 推荐的文章结构
```markdown
# 文章主标题

简短介绍段落（2-3 句话）。

## 背景/问题描述

展开说明问题背景。

## 核心内容

### 解法一

代码块...

### 解法二

代码块...

## 总结/性能对比

对比分析。

## 相关资源

链接列表。
```

---

## 代码块规范

### 核心原则
- ✅ **保留**：解释性注释
  - 变量含义：`int dp[20][10][10]; // dp[步数][人1的行][人2的行]`
  - 初始化说明：`// 初始化为-1表示不可达`
  - 算法步骤：`// 动态规划主循环`
  - 关键操作：`// 规范化：保证 a <= b`

- ❌ **删除**：美化性分隔符
  - 不使用：`// ========== xxx ==========`
  - 不使用：`// ----------- xxx -----------`

### 语言标记
```markdown
```c       # C/C++ 代码
```python  # Python 代码
```javascript # JavaScript 代码
```go      # Go 代码
```bash    # Bash/Shell 代码
```

### 缩进与空白
- 使用 **4 个空格**作为一个缩进级别
- 相关逻辑块之间用单行空白分隔
- 不过度空白化

正确示例：
```c
for (int k = 2; k < 2 * N; k++) {
    for (int x1 = 1; x1 <= N; x1++) {
        // 处理逻辑
        
        for (int m1 = 0; m1 <= 1; m1++) {
            // 嵌套逻辑
        }
    }
}
```

### 代码长度限制
- 单行不超过 80 个字符（如可能）
- 超过时：优先重组逻辑，次选换行
- 极端情况可超过，但要保持可读性

### 完整代码 vs 片段
- **完整代码**（≤120 行）：包含 `#include` 和 `main()` 等
- **片段代码**（>120 行）：仅展示核心函数，用 `...` 表示省略

---

## 文本与段落

### 段落规则
- 段落之间用**单行空白**分隔
- 无首行缩进
- 避免过长段落（超过 200 字考虑分段）

### 强调与符号
- **加粗**：关键术语、重要概念
- *斜体*：引用、外文词汇
- `代码`：变量名、函数名、文件名

正确示例：
```markdown
这个**关键概念**用 `variable` 表示。
在 *dynamic programming* 中...
```

---

## 数学公式

### 行内公式
```markdown
这个公式 $f(x) = x^2$ 表示平方函数。
```

### 块级公式
```markdown
$$
f(x) = \begin{cases}
  x^2 & \text{if } x \geq 0 \\
  -x^2 & \text{if } x < 0
\end{cases}
$$
```

### 配置
- 在 YAML frontmatter 中设置 `math: true`
- 保持 LaTeX 语法简洁

---

## 列表与表格

### 无序列表
```markdown
- 项目一
- 项目二
  - 子项 2.1
  - 子项 2.2
- 项目三
```

### 有序列表
```markdown
1. 第一项
2. 第二项
   1. 子项 2.1
   2. 子项 2.2
3. 第三项
```

### 表格
```markdown
| 列1 | 列2 | 列3 |
|-----|-----|-----|
| 数据 | 数据 | 数据 |
```

### 规则
- 列表项前后各留一行空白
- 嵌套最多两层
- 表格行数≤15 行

---

## 链接与引用

### 文档内链接
```markdown
参见[标题与结构](#标题与结构)部分。
```

### 外部链接
```markdown
[链接文本](https://example.com)
```

### 规则
- 链接文本简洁且自解释
- ❌ 避免：`点击[这里](url)`
- ✅ 推荐：`参见[API 文档](url)`

---

## 中英文混排

### 间距规则
- **中文与英文间**：空 1 个空格
- **中文与数字间**：空 1 个空格
- **标点符号**：紧贴前文

正确示例：
```
这是一个 Python 例子，版本号是 3.9。
使用 API v2.0 时，性能提升了 30%。
```

### 标点符号
- 中文段落：中文标点 。，；：
- 代码、英文：英文标点 . , ; :

---

## 完整检查清单

### YAML & Frontmatter
- [ ] 所有必填字段已填写
- [ ] 日期格式正确（ISO 8601）
- [ ] 标签和分类已添加
- [ ] 无特殊字符破坏解析

### 标题与结构
- [ ] 只有一个一级标题
- [ ] 标题层级逻辑清晰
- [ ] 标题前后有空行

### 代码块
- [ ] 使用正确的语言标记
- [ ] 移除分隔符注释
- [ ] 保留解释性注释
- [ ] 缩进统一为 4 个空格
- [ ] 无超过 80 字符的单行（如可能）

### 文本和格式
- [ ] 段落清晰，无过长行
- [ ] 中英文间距正确
- [ ] 链接文本有意义
- [ ] 无拼写错误
- [ ] 无多余空白行

### 整体质量
- [ ] 文章组织合理
- [ ] 代码块数量适中（3-10 个）
- [ ] 包含必要的解释和背景
- [ ] Hugo 构建无错误

---

## 常见问题

**Q: 代码块超过 80 字符怎么办？**  
A: 优先重组逻辑，次选换行。极端情况可超过，保持可读性。

**Q: 能否嵌套三层列表？**  
A: 不推荐。改为多个二级列表或重新组织结构。

**Q: 图片放在哪里？**  
A: 相对路径放在文章同目录的 `images/` 文件夹，或用 `/assets/img/` 绝对路径。

**Q: 可以删除注释吗？**  
A: 不可以。删除美化注释可以，保留所有解释性注释。

**Q: 如何处理超长代码？**  
A: 分为多个代码块，或用 `...` 表示省略部分。

---

## 维护和更新

当发现问题或改进建议：
1. 更新本指南
2. 提交 `docs:` 前缀的 commit
3. 同步修改现有文章

示例 commit 信息：
```
docs: 添加图表格式规范
style: 优化文章 A 的代码块格式
```

---

*最后更新: 2026-02-28*
